
<html>
<head>
	<style type="text/css">
		/*
			styling!
		*/
		html {
			background: #EDEDED;
			font-family: sans-serif;
			color: #313739;
		}

		#description {
			font-style: italic;
			width: 600px;
			margin-bottom: 30px;
		}

		#list-container {

			background: white;

			width: 600px;
			padding: 25px;

			margin: 5% auto;

			border: 1px solid #313739;
			border-radius: 10px;
		}

		td {
			padding-left: 40px;
		}

	</style>

</head>
<body>

	<div id="list-container">
		<h2>Bang Patterns</h2>

		<p>Bang! v2.1.0</p>

		<p id="description">
		This is a list of all available bang patterns and their corresponding
		search engines. These are somewhat liable to change over time.
		</p>

		<table id="bang-table"> </ul>

	</div>

</body>
	<script type="text/javascript">
	/*
		Dynamically append the search engine data to
		the ul tag above.
	*/

	const tags = {
		"tr":
			function (inner1, inner2) {

				var elem = document.createElement("tr")

				elem.appendChild(inner1)
				elem.appendChild(inner2)

				return elem
			},
		"td":
			function (inner) {
				var elem = document.createElement("td")

				elem.appendChild(inner)

				return elem
			},
		"a":
			function (text, href) {
				var elem = document.createElement("a")
				elem.setAttribute('href', href)

				elem.appendChild(document.createTextNode(text))

				return elem
			}

	}





	const loadJSON = function (path, callback) {

		var xobj = new XMLHttpRequest()

		xobj.overrideMimeType("application/json")
		xobj.open("GET", path, true)
		xobj.onreadstatechange = function () {

			if (xobj.readyState === 4 && xobj.status == "200") {
				callback(xobj.responseText)
			}

		}

		xobj.send()
	}





	var bangTable = document.getElementById("bang-table")

	loadJSON("help-data.json", function (helpData) {

		JSON.parse(helpData).map(function (engine) {

			bangTable.appendChild(
				tags.tr(
					tags.td(
						document.createTextNode(engine.patterns.join()) ),
					tags.td(
						tags.a(hostname, "http://" + hostname))
			))

		})

	})

	</script>
</html>
